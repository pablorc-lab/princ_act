import{r as l,j as t,L as T}from"./index-C9mmfiiY.js";import{C as z,a as H,b as F}from"./logo_home-CZQLzJk0.js";const I="https://pablorc-lab.github.io/princ_act/assets/atomo-D8_VeWr9.webp",K="https://pablorc-lab.github.io/princ_act/assets/continuar-xNdoYtaI.webp",B="https://pablorc-lab.github.io/princ_act/assets/gengar-CZAcUppI.webp",G="https://pablorc-lab.github.io/princ_act/assets/funko_mandragora-lgqfS9qZ.webp",O="https://pablorc-lab.github.io/princ_act/assets/planta_input_question-CN1yN169.png",Q="https://pablorc-lab.github.io/princ_act/assets/puntos-DrKDB0Zv.png",V="https://pablorc-lab.github.io/princ_act/assets/enredaderas-CiD7XUtI.png",W="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M720-120H280v-520l280-280%2050%2050q7%207%2011.5%2019t4.5%2023v14l-44%20174h258q32%200%2056%2024t24%2056v80q0%207-2%2015t-4%2015L794-168q-9%2020-30%2034t-44%2014Zm-360-80h360l120-280v-80H480l54-220-174%20174v406Zm0-406v406-406Zm-80-34v80H160v360h120v80H80v-520h200Z'/%3e%3c/svg%3e";function J({Preguntas:v,setIncorrectas:j,setShowResult:f,respuesta_inmediata:a=!1,question_size:w=1,tipoDatos:c}){const[u,C]=l.useState([]),[p,M]=l.useState(0),[e,_]=l.useState(null),[n,h]=l.useState(""),[i,g]=l.useState([null,null,null]),[r,P]=l.useState(!1),[d,y]=l.useState(!1);l.useEffect(()=>{document.title=(a?"Practicar ":"Quiz ")+`${c}`;const s=[...v].sort(()=>Math.random()-.5);C(s),_(s[0]),a||C(s.slice(0,w))},[v,w,a,c]);const q=()=>{const s=b=>b.normalize("NFD").replace(/[\u0300-\u036f]/g,""),o=b=>b.replace(/\s+/g,"").toLowerCase(),x=s(e.tipo.toLowerCase()),k=s(o(e.tipo)),S=s(e.uso.toLowerCase()),U=s(o(e.uso)),$=new RegExp(`\\b(${x.replace("/","|")})\\b`,"i"),A=s(n.toLowerCase().trim()),m=s(o(n)),Z=new RegExp("\\(([^)]+)\\)"),E=m.match(Z);return S&&E?($.test(A)||k===m)&&U===E[0].trim():$.test(A)||k===m},L=()=>{let s=e.uso?` ${e.uso}`:"";if(q())g([e.principio,null,e.tipo.charAt(0).toUpperCase()+e.tipo.slice(1)+s]);else{const o=[e.principio,n.charAt(0).toUpperCase()+n.slice(1),e.tipo.charAt(0).toUpperCase()+e.tipo.slice(1)+s];g(o),j(x=>[...x,{principio:o[0],incorrecta:o[1],correcta:o[2]}])}p+1===u.length&&!a&&!r&&f(!0),_(u[p+1]),M(p+1),h("")},N=s=>{s.key==="Enter"&&p<u.length&&(n||r)?((!a||a&&!r)&&L(),a&&(P(!r),h(""))):p>=u.length&&f(!0)},R=()=>{i[1]&&(g(s=>{const o=[...s];return o[1]=null,o}),j(s=>{const o=[...s];return o.pop(),o}))};return t.jsxs("div",{className:`App ${c}`,children:[t.jsx(T,{to:"/",children:t.jsx("img",{src:z,alt:"home logo",style:{position:"absolute",left:"20px",top:"20px",width:"90px",cursor:"pointer",opacity:"0.5"},onMouseOver:s=>s.currentTarget.style.opacity="1",onMouseOut:s=>s.currentTarget.style.opacity="0.5"})}),t.jsx("img",{className:"Gengar",src:`${c==="principios"?B:G}`,alt:"gengar"}),t.jsx("img",{className:`${c==="principios"?"puntos":"enredadera"}`,src:`${c==="principios"?Q:V}`,alt:"Puntos"}),t.jsxs("section",{className:"Papel_container",children:[a&&r&&t.jsxs("div",{className:"Papel_solt",children:[t.jsx("h2",{children:i[0]}),t.jsxs("article",{className:"solutions_container",children:[t.jsxs("div",{className:i[1]?"incorrecta":"correcta",children:[t.jsx("img",{src:i[1]?H:F,alt:i[1]?"cross":"check"}),t.jsx("p",{children:i[1]||i[2]})]}),t.jsxs("div",{className:"correcta",children:[t.jsx("img",{src:F,alt:"check"}),t.jsx("p",{children:i[2]})]})]}),t.jsxs("div",{className:"thumb",onMouseEnter:()=>y(!d),onMouseLeave:()=>y(!d),children:[t.jsx("img",{src:W,alt:"thunb",width:"50px",onClick:R}),d&&t.jsx("p",{children:"Si tu respuesta es correcta pulsa para corregir"})]})]}),!r&&t.jsxs("section",{className:`Papel ${c}`,children:[t.jsx("p",{className:"contador",children:e?`${p+1} / ${u.length}`:"-/-"}),t.jsx("h1",{children:e?e.principio:"..."})]})]}),t.jsxs("section",{className:`Respuesta ${c}`,style:{backgroundColor:r&&"rgba(195, 190, 237, 0.1)"},children:[t.jsx("img",{id:"Atomo_img",src:`${c==="principios"?I:O}`,alt:"atomo",style:{opacity:r?.3:1}}),t.jsx("input",{style:{opacity:r?0:1},type:"text",autoFocus:!0,spellCheck:"false",placeholder:"Escribe su uso...",value:n,onChange:s=>{h(s.target.value)},onKeyDown:N}),t.jsx("img",{id:"Continuar_img",src:K,alt:"continuar",onClick:()=>N({key:"Enter"}),style:{cursor:n||r?"pointer":"not-allowed",opacity:n||r?1:.3}})]})]})}export{J as default};
